---
title: Java 并发 - 理论基础
date: 2022-08-29
breadcrumb: false
pageInfo: false
---

# Java 并发 - 理论基础

## Java并发常见面试题

- 并发出现线程不安全的本质什么? 可见性，原子性和有序性
- Java是怎么解决并发问题的? 3个关键字，JMM和8个Happens-Before
- 线程安全有哪些实现思路?
- 如何理解并发和并行的区别?

### 并发出现问题的原因：并发的三要素

#### 可见性：CPU缓存引起

可见性:一个线程对共享变量的修改，另一个线程能够立刻看到
```java
//thread 1
    int i = 0;
    i = 2;

//thread 2
    j = i;
```
如果先执行线程1的是CPU1，会把int i = 0;加载到CPU1，然后再给i赋值2，但是还未将结果写入主存之中，如果此时CPU2执行线程2，就先去读取主存的数据，j=2;线程修改数据之后，其他的线程并没有立即看到修改后的值。

